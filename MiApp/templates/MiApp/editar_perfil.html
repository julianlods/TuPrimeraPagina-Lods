{% extends 'MiApp/base.html' %}

{% block content %}
<div class="container mt-5" style="max-width: 720px;">
    <h2 class="font-weight-bold mb-4 text-primary">Editar Perfil</h2>

    <!-- Navegación de pestañas -->
    <ul class="nav nav-tabs" id="editProfileTabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="personal-info-tab" data-bs-toggle="tab" href="#personal-info" role="tab" aria-controls="personal-info" aria-selected="true">Información Personal</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="password-tab" data-bs-toggle="tab" href="#password" role="tab" aria-controls="password" aria-selected="false">Cambio de Contraseña</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="avatar-tab" data-bs-toggle="tab" href="#avatar" role="tab" aria-controls="avatar" aria-selected="false">Avatar</a>
        </li>
    </ul>

    <!-- Contenido de las pestañas -->
    <div class="tab-content mt-4" id="editProfileTabContent">
        <!-- Información Personal -->
        <div class="tab-pane fade show active" id="personal-info" role="tabpanel" aria-labelledby="personal-info-tab">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <h4 class="text-secondary">Información Personal</h4>
                {{ perfil_form.as_p }}
                <button type="submit" class="btn btn-primary w-100 mt-4">Guardar cambios</button>
            </form>
        </div>

        <!-- Cambio de Contraseña -->
        <div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="password-tab">
            <form method="post">
                {% csrf_token %}
                <h4 class="text-secondary">Cambio de Contraseña</h4>
                {{ password_form.as_p }}
                <p class="text-muted">Completa estos campos solo si deseas cambiar tu contraseña.</p>
                <button type="submit" class="btn btn-primary w-100 mt-4">Guardar contraseña</button>
            </form>
        </div>

        <!-- Avatar -->
        <div class="tab-pane fade" id="avatar" role="tabpanel" aria-labelledby="avatar-tab">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <h4 class="text-secondary">Avatar</h4>
                {{ avatar_form.as_p }}
                <button type="submit" class="btn btn-primary w-100 mt-4">Actualizar avatar</button>
            </form>
        </div>
    </div>

    <div class="mt-3">
        <a href="{% url 'index' %}" class="btn btn-secondary w-100">Cancelar</a>
    </div>
</div>
{% endblock %}
